<button
  id="theme-toggle"
  aria-label="Switch to dark mode" 
  class="text-xs text-muted hover:text-foreground/80 transition-colors duration-200"
>
  dark 
</button>

<script is:inline>
  function updateThemeToggleButtonState() {
    const button = document.getElementById('theme-toggle');
    if (!button) return;

    const isDarkMode = document.documentElement.classList.contains('dark');
    
    if (isDarkMode) {
      button.textContent = 'dark';
      button.setAttribute('aria-label', 'Switch to light mode');
    } else {
      button.textContent = 'light';
      button.setAttribute('aria-label', 'Switch to dark mode');
    }
  }

  // Initial button state
  document.addEventListener('DOMContentLoaded', updateThemeToggleButtonState);

  document.addEventListener('DOMContentLoaded', () => {
    const themeToggle = document.getElementById('theme-toggle');
    
    if (themeToggle) {
      themeToggle.addEventListener('click', () => {
        // Toggle dark class on document root element
        document.documentElement.classList.toggle('dark');
        
        // Update localStorage
        if (document.documentElement.classList.contains('dark')) {
          localStorage.setItem('theme', 'dark');
        } else {
          localStorage.setItem('theme', 'light');
        }
        
        // Update the button text and aria-label
        updateThemeToggleButtonState();
      });
    }
  });
</script> 